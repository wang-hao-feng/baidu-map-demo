<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>demo</title>
<link href="styles.css" rel="stylesheet" type="text/css">
</head>

<body class="body">
<header>
  <h1 class="title">中国地理知识启蒙教育地图</h1>
  <button type="reset" class="small button reset" id="reset" value="返回" onClick="Back()">返回</button>
  <input name="search" type="search" class="search_bar" id="search">
  <button name="submit" type="submit" class="small button" id="submit" onClick="Search()" >搜索</button>
</header>
<div class="map"> <img src="images/map/Chinese.png" alt="" width="100%" id="map" value="中国地图"/>
  <div> 
    <!--东北地区-->
    <input type="image" src="images/place.png" class="place capital 黑龙江省" value = "黑龙江省" onClick="Capital('HeiLongJiang')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 吉林省" value = "吉林省" onClick="Capital('JiLin')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 辽宁省" value = "辽宁省" onClick="Capital('LiaoNing')" style="display: block">
    <!--华北地区-->
    <input type="image" src="images/place.png" class="place capital 北京市" value = "北京市" onClick="Capital('BeiJing')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 河北省" value = "河北省" onClick="Capital('HeBei')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 内蒙古自治区" value = "内蒙古自治区" onClick="Capital('NeiMengGu')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 山西省" value = "山西省" onClick="Capital('ShanXi')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 天津市" value = "天津市" onClick="Capital('TianJin')" style="display: block">
    <!--华东地区-->
    <input type="image" src="images/place.png" class="place capital 安徽省" value = "安徽省" onClick="Capital('AnHui')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 福建省" value = "福建省" onClick="Capital('FuJian')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 江苏省" value = "江苏省" onClick="Capital('JiangSu')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 江西省" value = "江西省" onClick="Capital('JiangXi')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 山东省" value = "山东省" onClick="Capital('ShanDong')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 上海市" value = "上海市" onClick="Capital('ShangHai')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 浙江省" value = "浙江省" onClick="Capital('ZheJiang')" style="display: block">
    <!--华南地区-->
    <input type="image" src="images/place.png" class="place capital 广东省" value = "广东省" onClick="Capital('GuangDong')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 广西壮族自治区" value = "广西壮族自治区" onClick="Capital('GuangXi')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 海南省" value = "海南省" onClick="Capital('HaiNan')" style="display: block">
    <!--华中地区-->
    <input type="image" src="images/place.png" class="place capital 河南省" value = "河南省" onClick="Capital('HeNan')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 湖南省" value = "湖南省" onClick="Capital('HuNan')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 湖北省" value = "湖北省" onClick="Capital('HuBei')" style="display: block">
    <!--西北地区-->
    <input type="image" src="images/place.png" class="place capital 新疆维吾尔自治区" value = "新疆维吾尔自治区" onClick="Capital('XinJiang')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 甘肃省" value = "甘肃省" onClick="Capital('GanSu')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 宁夏回族自治区" value = "宁夏回族自治区" onClick="Capital('NingXia')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 青海省" value = "青海省" onClick="Capital('QingHai')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 陕西省" value = "陕西省" onClick="Capital('ShaanXi')" style="display: block">
    <!--西南地区-->
    <input type="image" src="images/place.png" class="place capital 贵州省" value = "贵州省" onClick="Capital('GuiZhou')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 四川省" value = "四川省" onClick="Capital('SiChuan')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 西藏自治区" value = "西藏自治区" onClick="Capital('XiZang')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 云南省" value = "云南省" onClick="Capital('YunNan')" style="display: block">
    <input type="image" src="images/place.png" class="place capital 重庆市" value = "重庆市" onClick="Capital('ChongQing')" style="display: block">
    
    <!--河北-->
    <input type="image" src="images/place.png" name="河北省" class="place attraction 承德避暑山庄" onClick="Introduce('承德避暑山庄')" style="display: none">
    <input type="image" src="images/place.png" name="河北省" class="place attraction 山海关" onClick="Introduce('山海关')" style="display: none">
    <input type="image" src="images/place.png" name="河北省" class="place attraction 白石山" onClick="Introduce('白石山')" style="display: none">
    <input type="image" src="images/place.png" name="河北省" class="place attraction 娲皇宫"  onClick="Introduce('娲皇宫')" style="display: none">
    <input type="image" src="images/place.png" name="河北省" class="place attraction 西柏坡"  onClick="Introduce('西柏坡')" style="display: none">
    <!--黑龙江--> 
    <input type="image" src="images/place.png" name="黑龙江省" class="place attraction 大兴安岭"  onClick="Introduce('大兴安岭')" style="display: none">
    <input type="image" src="images/place.png" name="黑龙江省" class="place attraction 冰雪大世界"  onClick="Introduce('冰雪大世界')" style="display: none">
    <input type="image" src="images/place.png" name="黑龙江省" class="place attraction 漠河北极村"  onClick="Introduce('漠河北极村')" style="display: none">
    <input type="image" src="images/place.png" name="黑龙江省" class="place attraction 五大连池"  onClick="Introduce('五大连池')" style="display: none">
    <input type="image" src="images/place.png" name="黑龙江省" class="place attraction 镜泊湖"  onClick="Introduce('镜泊湖')" style="display: none">
    <!--内蒙-->  
    <input type="image" src="images/place.png" name="内蒙古自治区" class="place attraction 呼伦贝尔大草原"  onClick="Introduce('呼伦贝尔大草原')" style="display: none">
    <input type="image" src="images/place.png" name="内蒙古自治区" class="place attraction 阿尔山"  onClick="Introduce('阿尔山')" style="display: none">
    <input type="image" src="images/place.png" name="内蒙古自治区" class="place attraction 成吉思汗陵"  onClick="Introduce('成吉思汗陵')" style="display: none">
    <input type="image" src="images/place.png" name="内蒙古自治区" class="place attraction 胡杨林"  onClick="Introduce('胡杨林')" style="display: none">
    <input type="image" src="images/place.png" name="内蒙古自治区" class="place attraction 满洲里中俄边境旅游区"  onClick="Introduce('满洲里中俄边境旅游区')" style="display: none">
    <!--广东--> 
    <input type="image" src="images/place.png" name="广东省" class="place attraction 白云山"  onClick="Introduce('白云山')" style="display: none">
    <input type="image" src="images/place.png" name="广东省" class="place attraction 丹霞山"  onClick="Introduce('丹霞山')" style="display: none">
    <input type="image" src="images/place.png" name="广东省" class="place attraction 孙中山故里"  onClick="Introduce('孙中山故里')" style="display: none">
    <input type="image" src="images/place.png" name="广东省" class="place attraction 连州地下河"  onClick="Introduce('连州地下河')" style="display: none">
    <input type="image" src="images/place.png" name="广东省" class="place attraction 惠州西湖"  onClick="Introduce('惠州西湖')" style="display: none">
  </div>
</div>
<script type="text/javascript">
	
	function Exchange(v)
	{
		for (let button of document.getElementsByClassName('capital'))
			button.style.display = button.style.display == 'block' ? 'none' : 'block';
		for (let button of document.getElementsByName(v))
		{
			if (button.className.indexOf('capital') != -1)
				continue;
			button.style.display = button.style.display == 'block' ? 'none' : 'block';
		}
	}
	
	function fadeIn(obj,time){//淡入函数  实现time毫秒后显示，原理是根据透明度来完成的
            var startTime=new Date(); 
            obj.style.opacity=0;//设置下初始值透明度
            obj.style.display="block";
            var timer=setInterval(function(){
                var nowTime=new Date();
                var prop=(nowTime-startTime)/time;
                if(prop>=1){
                    prop=1;//设置最终系数值
                    clearInterval(timer);
                }
                obj.style.opacity=prop;//透明度公式： 初始值+系数*（结束值-初始值）
            },13);//每隔13ms执行一次function函数
        };
        
    function fadeOut(obj,time){
            var startTime=new Date(); 
            obj.style.opacity=1;//设置下初始值透明度
            obj.style.display="block";
            var timer=setInterval(function(){
                var nowTime=new Date();
                var prop=(nowTime-startTime)/time;
                if(prop>=1){
                    prop=1;//设置最终系数值
                    clearInterval(timer);
                }
                obj.style.opacity=1+prop*(0-1);//透明度公式： 初始值+系数*（结束值-初始值）
            },13);//每隔13ms执行一次function函数
        };
	
	function Back()
	{
		var map = document.getElementById('map');
		fadeOut(map, 500);
		map.src = "images/map/Chinese.png";
		fadeIn(map, 500);
		Exchange(map.value);
		var back = document.getElementById('reset');
		back.style.visibility = 'hidden';
		map.value = '中国地图';
	}
	
	function Capital(capital)
	{
		var map = document.getElementById('map');
		fadeOut(map, 500);
		map.src = "images/map/province/" + capital + ".jpg";
		fadeIn(map, 500);
		map.value = capital
		var back = document.getElementById('reset');
		back.style.visibility = 'visible';
		Exchange(map.value);
	}
	
	function Introduce(location)
	{
		localStorage.setItem("data", location);
		var new_window = window.open("index2.html");
	}
	
	function Search()
	{
		var location = document.getElementById('search').value;
		if(location == "")
			alert("输入不能为空")
		else
			Introduce(location);
	}

</script>
</body>
</html>
